{"version":3,"sources":["webpack:///webpack/bootstrap c1cadd18064a38c3b6bc","webpack:///./cepJs/autoCut.js","webpack:///./cepJs/main.js"],"names":["AutoCut","init","window","localStorage","debug","addConsoleSupport","load","addClickMethods","bindEvent","loadList","forEach","file","loadJsx","bindLayerSelectEvent","cs","csInterface","start","evalScript","result","test","didSetupHandlers","addEventListener","e","console","log","apply","data","warn","error","event","CSEvent","extensionId","getExtensionID","dispatchEvent","layerSelectHandler","bind","fileName","extensionRoot","getSystemPath","SystemPath","EXTENSION","CSInterface","cssDom","document","getElementById"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c1cadd18064a38c3b6bc","export default class AutoCut {\n    static csInterface = new CSInterface();\n    static loadList = [\n        'lib/es5-shim.jsx',\n        'lib/json2.jsx',\n        'lib/util.jsx',\n        'lib/console.jsx',\n        'lib/class.jsx',\n        'css/const.jsx',\n        'css/ActionDescriptor.jsx',\n        'css/PSLayer.jsx',\n        'css/CSSToClipboard.jsx',\n        'processWindow.jsx',\n        'css.jsx',\n        'layer.jsx',\n        'controller.jsx',\n        'main.jsx',\n    ];\n    static cssDom = document.getElementById('css');\n\n    static init() {\n        window.localStorage.debug = '*';\n        this.addConsoleSupport();\n        this.load();\n        this.addClickMethods();\n        this.bindEvent();\n    }\n\n    static load() {\n        this.loadList.forEach(file => this.loadJsx(file));\n    }\n\n    static bindEvent() {\n        this.bindLayerSelectEvent();\n    }\n\n    static addClickMethods() {\n        const cs = this.csInterface;\n        window.start = () => cs.evalScript('start()', (result) => {\n        });\n        window.test = () => cs.evalScript('test()', (result) => {\n        });\n    }\n\n    static addConsoleSupport() {\n        const cs = this.csInterface;\n        if (!window.didSetupHandlers) {\n            cs.addEventListener('CONSOLE_LOG', (e) => {\n                console.log.apply(console, e.data);\n            });\n            cs.addEventListener('CONSOLE_WARN', (e) => {\n                console.warn.apply(console, e.data);\n            });\n            cs.addEventListener('CONSOLE_ERROR', (e) => {\n                console.error.apply(console, e.data);\n            });\n        }\n        window.didSetupHandlers = true;\n    }\n\n    static bindLayerSelectEvent() {\n        try {\n            const cs = this.csInterface;\n            const event = new CSEvent('com.adobe.PhotoshopRegisterEvent', 'APPLICATION');  //创建一个“注册事件”\n            event.extensionId = cs.getExtensionID(); //设置“注册事件” extensionId 为你扩展的扩展ID\n            event.data = '1936483188'; // 想要监听的 ExtendScript 事件 eventID , 这里是创建图层对象事件: \"Mk  \"=1298866208\n            cs.dispatchEvent(event); //发送“注册事件”，完成注册\n\n            cs.addEventListener('com.adobe.PhotoshopJSONCallback' + cs.getExtensionID(), this.layerSelectHandler.bind(this))\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    static layerSelectHandler() {\n        return;\n        this.csInterface.evalScript('selectLayer()', (result) => {\n            // console.log(result);\n            // const css = cssParser.parse(result);\n            // console.log(css);\n            // this.cssDom.innerHTML = css;\n        });\n    }\n\n    static loadJsx(fileName) {\n        const extensionRoot = this.csInterface.getSystemPath(SystemPath.EXTENSION) + '/jsx/';\n        this.csInterface.evalScript('$.evalFile(\"' + extensionRoot + fileName + '\")');\n        console.log(`${fileName} run`);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./cepJs/autoCut.js","import AutoCut from './autoCut'\n\nAutoCut.init()\n\n\n// WEBPACK FOOTER //\n// ./cepJs/main.js"],"sourceRoot":""}